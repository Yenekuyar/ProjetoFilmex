<!DOCTYPE html>
<html lang="pt-br"> 
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="reset.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Overpass:wght@200&family=Titan+One&display=swap">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.css"/>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="carrossel.css">
    <title>Filmex</title>
</head>
<body>
    <header class="cabecalho">
        <div class="container"> 
            <input type="checkbox" id="menu" class="container__botao">
            <label for="menu" class="cabecalho__menu-hamburguer">
                <span class="container__imagem"></span>
            </label>
            
            <ul class="lista-menu">
                <li class="lista-menu__titulo">Categorias</li>
                <li class="lista-menu__item">
                    <a href="#" class="lista-menu__link">Ação</a>
                </li> 
                <li class="lista-menu__item">
                    <a href="#" class="lista-menu__link">Terror</a>
                </li>
                <li class="lista-menu__item">
                    <a href="#" class="lista-menu__link">Comédia</a>
                </li>
                <li class="lista-menu__item">
                    <a href="#" class="lista-menu__link">Suspense</a>
                </li>
                <li class="lista-menu__item">
                    <a href="#" class="lista-menu__link">Drama</a>
                </li>
                <li class="lista-menu__item">
                    <a href="#" class="lista-menu__link">Infantil</a>
                </li>
            </ul>

            <div class="cabecalho__pesquisa">
                <input type="search" class="pesquisa" placeholder="Digite o filme:">
            </div>

            <h1 class="container__titulo" id="titulo">Filmex</h1>

            <a href="##"><img src="/img/perfil-de-usuario.svg" alt="Ícone de Perfil do Usuário" class="usuario_perfil"></a>
        </div>
    </header>
    <main>
        <input type="hidden" id="hfRowIndex" value="" />
        <table class="table">
            <tr>
                <td>Id</td>
                <td>
                    <input type="text" name="Id" id="txtId" value="1" />
                </td>
            </tr>
            <tr>
                <td>Nome do Filme</td>
                <td>
                    <input type="text" name="Nome" id="txtNome" value="" />
                </td>
            </tr>
            <tr>
                <td>Nota</td>
                <td>
                    <input type="number" name="Nota" id="intNota" value="" />
                </td>
            </tr>
            <tr>
                <td>Imagem</td>
                <td>
                    <input type="file" name="Imagem" id="img" value="" accept="image/png, image/jpeg"/>
                </td>
            </tr>
            <tr>
                <td>
                    <button type='button' id='btnAdd'>Add</button>
                    <button type='button' id='btnUpdate' style="display: none;">Update</button>
                </td>
                <td>
                    <button type='button' id='btnClear'>Clear</button>
                </td>
            </tr>
        </table>
        <table id="tblCustomers" class="table">
            <thead>
                <tr>
                    <th>Id</th>
                    <th>Nome</th>
                    <th>Nota</th>
                    <th>Imagem</th>
                    <th>Edit</th>
                    <th>Delete</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
        <section class="carrossel">
            <h2 class="carrossel__titulo">Terror Arrepiante</h2>
            <div class="carrossel__container">
                <!-- Slider main container -->
            <div class="swiper">
                <!-- Additional required wrapper -->
                <!-- If we need pagination -->
                <div class="swiper-pagination"></div>
                <div class="swiper-wrapper">
                <!-- Slides -->
                <div class="swiper-slide">
                    <img src="/img/smile.jpeg" alt="Smile o Filme" class="swiper-image">
                </div>
                <div class="swiper-slide">
                        <img src="/img/atividade-paranormal.jpg" alt="Atividade Paranormal" class="swiper-image">
                </div>
                <div class="swiper-slide">
                        <img src="/img/bruxa-de-blair.jpg" alt="Atividade Paranormal" class="swiper-image">
                </div>
                <div class="swiper-slide">
                    <img src="/img/bruxa-de-blair.jpg" alt="Bruxa de Blair" class="swiper-image">
                </div>
                <div class="swiper-slide">
                    <img src="" alt="" class="swiper-image">
                </div>
            </div>
    
                <!-- If we need navigation buttons -->
                <div class="swiper-button-prev"></div>
                <div class="swiper-button-next"></div>
                
            </div>
            <!--1º coluna-->
            <div class="card">
                <!--1º coluna-->
                <div class="card__descricao">
                    <div class="descricao">
                        <img src="img/telefone-preto.jpg" alt="" class="imagem_card">
                        <h2 class="card_titulo">O Telefone Preto <hr>&#11088 &#11088 &#11088 &#11088 &#11088</h2>
                        <p>Recomendação da Semana</p>
                        <!-- 1º linha -->
                    </div>
                </div>
            </div>
            </div>        
        </section>

        <section class="carrossel">
            <h2 class="carrossel__titulo">Comédias de Gargalhar</h2>
            <div class="carrossel__container">
                <!-- Slider main container -->
            <div class="swiper">
                <!-- Additional required wrapper -->
                <!-- If we need pagination -->
                <div class="swiper-pagination"></div>
                <div class="swiper-wrapper">
                <!-- Slides -->
                <div class="swiper-slide">
                    <img src="/img/as-branquelas.jpeg" alt="As Branquelas" class="swiper-image">
                </div>
                <div class="swiper-slide">
                        <img src="/img/click.jpg" alt="Click" class="swiper-image">
                </div>
                <div class="swiper-slide">
                        <img src="/img/se-beber-nao-case.jpg" alt="Se Beber não Case" class="swiper-image">
                </div>
                <div class="swiper-slide">
                    <img src="/img/superbad.png" alt="Superbad" class="swiper-image">
                </div>
                <div class="swiper-slide">
                    <img src="/img/o-peso-do-talento.jpg" alt="O Peso do Talento" class="swiper-image">
                </div>
            </div>
    
                <!-- If we need navigation buttons -->
                <div class="swiper-button-prev"></div>
                <div class="swiper-button-next"></div>
                
            </div>
            <!--1º coluna-->
            <div class="card">
                <!--1º coluna-->
                <div class="card__descricao">
                    <div class="descricao">
                        <img src="img/o-peso-do-talento.jpg" alt="" class="imagem_card">
                        <h2 class="card_titulo">O Peso do Talento<hr>&#11088 &#11088 &#11088 &#11088 &#11088</h2>
                        <p>Recomendação da Semana</p>
                        <!-- 1º linha -->
                    </div>
                </div>
            </div>
            </div>        
        </section>

        <section class="carrossel">
            <h2 class="carrossel__titulo">Dramas para Chorar</h2>
            <div class="carrossel__container">
                <!-- Slider main container -->
            <div class="swiper">
                <!-- Additional required wrapper -->
                <!-- If we need pagination -->
                <div class="swiper-pagination"></div>
                <div class="swiper-wrapper">
                <!-- Slides -->
                <div class="swiper-slide"><img src="/img/smile.jpeg" alt="Smile o Filme" class="swiper-image"></div>
                <div class="swiper-slide">
                        <img src="/img/atividade-paranormal.jpg" alt="Atividade Paranormal" class="swiper-image">
                </div>
                <div class="swiper-slide">
                        <img src="/img/bruxa-de-blair.jpg" alt="Atividade Paranormal" class="swiper-image">
                </div>
                <div class="swiper-slide">
                    <img src="/img/bruxa-de-blair.jpg" alt="Bruxa de Blair" class="swiper-image">
                </div>
                <div class="swiper-slide">
                    <img src="/img/halloween kills.jpg" alt="" class="swiper-image">
                </div>
            </div>
    
                <!-- If we need navigation buttons -->
                <div class="swiper-button-prev"></div>
                <div class="swiper-button-next"></div>
                
            </div>
            <!--1º coluna-->
            <div class="card">
                <!--1º coluna-->
                <div class="card__descricao">
                    <div class="descricao">
                        <img src="img/telefone-preto.jpg" alt="" class="imagem_card">
                        <h2 class="card_titulo">O Telefone Preto<hr>&#11088 &#11088 &#11088 &#11088 &#11088</h2>
                        <p>Recomendação da Semana</p>
                        <!-- 1º linha -->
                    </div>
                </div>
            </div>
            </div>        
        </section>

        <script src="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.js"></script>
        <script>const swiper = new Swiper('.swiper', {
            spaceBetween: 10,
            slidesPerView: 3,
            pagination: {
                el: '.swiper-pagination',
                type: 'bullets',
            },
          });
        </script>
            <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
            <script type="text/javascript">
                $(function () {
                    $('#btnAdd').on('click', function () {
                        var nome, nota, id, img;
                        id = $("#txtId").val();
                        nome = $("#txtNome").val();
                        nota = $("#intNota").val();
                        img = document.createElement('img');
         
                        var edit = "<a class='edit' href='JavaScript:void(0);' >Edit</a>";
                        var del = "<a class='delete' href='JavaScript:void(0);'>Delete</a>";
         
                        if (nome == "" || nota == "" ) {
                            alert("Nome e nota são campos obrigatórios!");

                        } else if ( nota < 1 || nota > 10) {    
                            alert("Nota deve ser de 0 a 10")

                        } else {
                            var table = "<tr><td>" + id + "</td><td>" + nome + "</td><td>" + nota + "</td><td>" + img + "</td><td>" + edit + "</td><td>" + del + "</td></tr>";
                            $("#tblCustomers").append(table);

                        }
                        id = $("#txtId").val("");
                        nome = $("#txtNome").val("");
                        nota = $("#intNota").val();
                        source = document.getElementById('img').value;
                        img = document.createElement('img');
                        img.setAttribute('src', source);
                        Clear();
                    });
         
                    $('#btnUpdate').on('click', function () {
                        var nome, nota, id;
                        id = $("#txtId").val();
                        nome = $("#txtNome").val();
                        nota = $("#intNota").val();
                        imagem = $('#img');
         
                        $('#tblCustomers tbody tr').eq($('#hfRowIndex').val()).find('td').eq(1).html(nome);
                        $('#tblCustomers tbody tr').eq($('#hfRowIndex').val()).find('td').eq(2).html(nota);
         
                        $('#btnAdd').show();
                        $('#btnUpdate').hide();
                        Clear();
                    });
         
                    $("#tblCustomers").on("click", ".delete", function (e) {
                        if (confirm("Tem certeza que quer deletar?")) {
                            $(this).closest('tr').remove();
                        } else {
                            e.preventDefault();
                        }
                    });
         
                    $('#btnClear').on('click', function () {
                        Clear();
                    });
         
                    $("#tblCustomers").on("click", ".edit", function (e) {
                        var row = $(this).closest('tr');
                        $('#hfRowIndex').val($(row).index());
                        var td = $(row).find("td");
                        $('#txtId').val($(td).eq(0).html());
                        $('#txtNome').val($(td).eq(1).html());
                        $('#intNota').val($(td).eq(2).html());
                        $('#img').val($(td).eq(3).html());
                        $('#btnAdd').hide();
                        $('#btnUpdate').show();
                    });
                });
                function Clear() {
                    $("#txtId").val("");
                    $("#txtNome").val("");
                    $("#intNota").val("");
                    $("#img").val("");
                    $("#hfRowIndex").val("");
                }
            </script>
    </main>

    <footer>

    </footer>
</body>
</html>
